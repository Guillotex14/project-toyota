<ion-content [fullscreen]="true">
  <ion-grid fixed>
    <ion-row>

      <ion-col size="12" class="header">
        <ion-grid fixed >
          <ion-row>
            <ion-col size="2" sizeMd="1">
              <ion-icon name="arrow-back-circle" (click)="goBack()" class="iconBack"></ion-icon>
            </ion-col>
            <ion-col size="8" style="text-align: center; " sizeMd="10">
              <ion-img src="assets/images/logo/logo_toyota_blanco.png" class="logoRed"></ion-img>
            </ion-col>
            <ion-col size="2" sizeMd="1">
              <ion-icon name="menu-outline" (click)="openMenu()" class="iconMenu2"></ion-icon>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-col>

      <app-skeleton *ngIf="loading"></app-skeleton>


      <ion-col size="12" style="text-align: center;" *ngIf="!loading">
        <p class="titlePage">Comparación</p>
      </ion-col>

      <ion-col size="12" *ngIf="comparison && comparison.length > 0 && !loading">
        <ion-grid fixed>
          <ion-row>
            <ion-col sizeXl="4" sizeLg="4" sizeMd="4" sizeSm="6" sizeXs="6" *ngFor="let vehicle of comparison; let i = index" class="colCardVehicles">

              <ion-card class="cardVehicles" [style.backgroundImage]="'url( assets/images/logo/poster_lateral.svg )'">
                <ion-icon name="image" *ngIf="vehicle.images?.length === 0" class="iconCard"></ion-icon>
                <ion-icon name="image" *ngIf="vehicle.image === null" class="iconCard"></ion-icon>
                <ion-img [src]="vehicle.images[0].img" *ngIf="vehicle.images?.length"></ion-img>
                <ion-img [src]="vehicle.image.img" *ngIf="vehicle.image"></ion-img>
                
                <!-- <ion-img [src]="vehicle.image.img" *ngIf="vehicle.image !=='' && vehicle.image"></ion-img> -->
                <ion-card-content>
                  <p>
                    {{vehicle.model}}
                  </p>
                  <p>
                    {{vehicle.year}}
                  </p>
                  <p [style.color]="evaluateTitles(vehicle.titles)">
                    {{vehicle.titles}}
                  </p>
                  <p [style.color]="vehicle.priceColor">
                    {{vehicle.price | currency:'USD':true:'1.0-0'}}
                  </p>
                  <p>
                    {{vehicle.city}}
                  </p>
                  <p [style.color]="vehicle.kmColor">
                    {{vehicle.km | number}} kms
                  </p>
                  <p>
                    {{vehicle.concesionary}}
                  </p>
                  <p *ngIf="vehicle.general_condition" [style.color]="evaluateStatus(vehicle.general_condition)">
                    {{ vehicle.general_condition && vehicle.general_condition < 80 ? 'Regular' : vehicle.general_condition >= 80 && vehicle.general_condition < 90 ? 'Bueno' : 'Excelente' }}
                  </p>
                  <!-- <p *ngIf="!vehicle.general_condition" style="color: #EB0A1E;">
                    Malo
                  </p> -->
                </ion-card-content>

                <ion-button expand="block" shape="round" style="width: 30px;position: absolute;z-index: 999999;top: 0;left: 0;" (click)="deleteComparison(i)">
                  X
                </ion-button>
              </ion-card>

            </ion-col>

          </ion-row>
        </ion-grid>
      </ion-col>

      <ion-col size="12" *ngIf="comparison && comparison.length > 0 && !loading" class="colKm">
        <ion-list>
          <ion-list-header>
            Kilometraje
          </ion-list-header>
          <ion-item>
            <p  style="font-size: 13px;">
              {{renderAutosKm()}}
            </p>
          </ion-item>
        </ion-list>

      </ion-col>

      <ion-col size="12" *ngIf="comparison && comparison.length > 0 && !loading" class="colPrice">
        <ion-list>
          <ion-list-header>
            Precio
          </ion-list-header>
          <ion-item >
            <p  style="font-size: 13px;">
              {{renderAutosPrice()}}
            </p>
          </ion-item>
        </ion-list>
      </ion-col>

      <ion-col size="12" *ngIf="comparison && comparison.length > 0 && !loading" class="colTitles">
        <ion-list>
          <ion-list-header>
            Títulos
          </ion-list-header>
          <ion-item >
            <p  style="font-size: 13px;">
              {{renderAutosTitle()}}
            </p>
          </ion-item>
        </ion-list>
      </ion-col>

      <ion-col size="12" *ngIf="comparison && comparison.length > 0 && !loading" class="colStates">
        <ion-list>
          <ion-list-header>
            Estado del vehículo
          </ion-list-header>

          
          <ion-item>
            <p  style="font-size: 13px;">
              {{renderAutosCondition()}}
            </p>
          </ion-item>
        </ion-list>
      </ion-col>

      <!-- <ion-col size="12" *ngIf="comparison.length > 0 && !loading" class="colRecomendation">
        <ion-list>
          <ion-list-header>
            Nuestra recomendación
          </ion-list-header>
          <ion-item>
            <p style="font-size: 13px;text-align: justify;">
              {{conclution()}}
            </p>
          </ion-item>
        </ion-list>

      </ion-col> -->

      <ion-col size="12" *ngIf="comparison ===null || comparison.length === 0 && !loading" style="text-align: center;">
        <ion-icon name="help-circle" class="iconNoInfo"></ion-icon>
        <p class="titleNoInfo">No se encontraron vehículos</p>
      </ion-col>

    </ion-row>
  </ion-grid>

</ion-content>
